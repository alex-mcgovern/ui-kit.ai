import { Story, ArgTypes, Canvas, Unstyled, Meta } from "@storybook/blocks";
import { ComboBox, ComboBoxButton, ComboBoxClearButton, ComboBoxFieldGroup, ComboBoxInput } from "../components/combobox";
import { Label } from "../components/label";
import * as stories from "../stories/combobox.stories";
import { getMockOptions } from "../mocks/options";

<Meta title="Components/ComboBox" />

# ComboBox

A `<ComboBox />` allows a user to select an option from a dropdown list, with
mouse, touch, and keyboard interactions.

[source code](https://github.com/alex-mcgovern/boondoggle/tree/main/src/components/combobox)
&nbsp;|&nbsp;
[react aria](https://react-spectrum.adobe.com/react-aria/ComboBox.html)

<hr />

<Canvas of={stories.example} sourceState="none" />

## Items

A ComboBox requires a list of `items` of type `OptionsSchema` to display in the
dropdown. `OptionsSchema` is a generic type describing either a single list item, or a section containing multiple items.

A "flat" list, containing only items might be composed like this:

<div class="grid grid-cols-2 gap-4">
        ```tsx
        import type { OptionsSchema } from "boondoggle";
    
        const ITEMS: OptionsSchema<"listbox"> = [
           {
               "id": "france",
               "textValue": "France",
               "icon": <GlobeIcon />
           },
           {
               "id": "uae",
               "textValue": "United Arab Emirates",
               "icon": <GlobeIcon />
           },
           // ... more items
        ];
        ```
    <Canvas of={stories.flatList} sourceState="none" />
</div>

A more complex list, broken up into sections, might be composed like this:

<div class="grid grid-cols-2 gap-4">
    ```tsx
    const ITEMS: OptionsSchema<"listbox"> = [
        {
            "id": "europe",
            "items": [
                {
                    "id": "france",
                    "textValue": "France",
                    "icon": <GlobeIcon />
                },
                // ... more items
            ],
            "textValue": "Europe"
        },
        {
            "id": "mena",
            "items": [
                {
                    "id": "uae",
                    "textValue": "United Arab Emirates",
                    "icon": <GlobeIcon />
                },
            // ... more items
            ],
            "textValue": "MENA"
        }
    ];
    ```
    <Canvas of={stories.withSections} sourceState="none" />
</div>

## Props

<Canvas of={stories.withSections} />

### `isInvalid`

When `isInvalid` is set to `true`, the ComboBox will be styled to indicate that the input is invalid.

<Canvas of={stories.isInvalid} />

### `isDisabled`

When `isDisabled` is set to `true`, the ComboBox will be disabled and cannot be interacted with.

<Canvas of={stories.isDisabled} />

### `isBorderless`

When `isBorderless` is set to `true`, the ComboBox will be rendered without a border.

<Canvas of={stories.isBorderless} />

### `disabledKeys`

A ComboBox can have specific options disabled by setting the `disabledKeys` prop.

<Canvas of={stories.disabledKeys} />

## Component API

<ArgTypes of={ComboBox} />